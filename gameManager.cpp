#include "gameManager.h"

void gameManager::start()
{

}

gameManager::~gameManager()
{
	produceOutputFile();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//													Modes														//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void gameManager::runInteractive()
{

}

void gameManager::runSilent()
{

}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//												File management													//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void gameManager::readInputFile(const string filePath)
{
	ifstream inputFile(filePath,ios::in);
}

void gameManager::produceOutputFile()
{
	ofstream outputFile("Combat Report.txt", ios::out | ios::trunc);
	if (earthVictory)
		outputFile << humanVictoryScreen;
	else
		outputFile << alienVictoryScreen;

	unit_Interface* temp;
	while (deathList.dequeue(temp))
		outputFile << *temp;


	outputFile.close();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//													Getters														//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
earthArmy* gameManager::getEarthArmy()
{
	return &humans;
}

alienArmy* gameManager::getAlienArmy()
{
	return &aliens;
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//												Miscellaneous													//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
int gameManager::CheckWinner()
{
	if (deathList.isEmpty())
	{
		return 0;
	}
	if (aliens.isEmpty())
	{
		earthVictory = true;
		return 1;
	}
	if (humans.isEmpty())
	{
		earthVictory = false;
		return 2;
	}
	return 0;
}